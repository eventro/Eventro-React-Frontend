{"ast":null,"code":"import _classCallCheck from \"/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/src/App.js\";\nimport React, { Component } from \"react\";\nimport { getUser, logout } from \"./services/authService\";\nimport NavBar from \"./components/NavBar\";\nimport AuthForm from \"./components/AuthForm\";\nimport Profile from \"./components/Profile\";\nimport \"./App.css\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.changeForm = function (type) {\n      console.log(type);\n\n      _this.setState({\n        form: type\n      });\n    };\n\n    _this.login = function () {\n      var user = getUser();\n      console.log(\"get user\", user);\n\n      _this.setState({\n        user: user\n      });\n\n      console.log('yaay', _this.state.user);\n    };\n\n    _this.logout = function () {\n      logout();\n\n      _this.setState({\n        user: null\n      });\n    };\n\n    _this.getProducts = function () {};\n\n    _this.state = {\n      user: null,\n      form: \"signup\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"checkForUser\",\n    value: function checkForUser() {\n      var user = getUser();\n\n      if (user) {\n        this.setState({\n          user: user\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.checkForUser();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        user: this.state.user,\n        changeForm: this.changeForm,\n        logout: this.logout,\n        getProducts: this.getProducts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.state.user ? React.createElement(Profile, {\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }) : React.createElement(AuthForm, {\n        form: this.state.form,\n        onLogin: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/noni/code/wdi/lessons/jwt-react-optional-lesson/src/App.js"],"names":["React","Component","getUser","logout","NavBar","AuthForm","Profile","App","changeForm","type","console","log","setState","form","login","user","state","getProducts","checkForUser"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,wBAAhC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAO,WAAP;;IAEMC,G;;;;;AACJ,iBAAc;AAAA;;AAAA;;AACZ;;AADY,UAkBdC,UAlBc,GAkBD,UAAAC,IAAI,EAAI;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,YAAKG,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAEJ;AADM,OAAd;AAGD,KAvBa;;AAAA,UAyBdK,KAzBc,GAyBN,YAAM;AACZ,UAAMC,IAAI,GAAGb,OAAO,EAApB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBI,IAAxB;;AACA,YAAKH,QAAL,CAAc;AAAEG,QAAAA,IAAI,EAAJA;AAAF,OAAd;;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,MAAKK,KAAL,CAAWD,IAA/B;AACD,KA9Ba;;AAAA,UAgCdZ,MAhCc,GAgCL,YAAM;AACbA,MAAAA,MAAM;;AACN,YAAKS,QAAL,CAAc;AAAEG,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,KAnCa;;AAAA,UAqCdE,WArCc,GAqCA,YAAM,CAAE,CArCR;;AAEZ,UAAKD,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAE,IADK;AAEXF,MAAAA,IAAI,EAAE;AAFK,KAAb;AAFY;AAMb;;;;mCAEc;AACb,UAAME,IAAI,GAAGb,OAAO,EAApB;;AACA,UAAIa,IAAJ,EAAU;AACR,aAAKH,QAAL,CAAc;AAAEG,UAAAA,IAAI,EAAJA;AAAF,SAAd;AACD;AACF;;;wCACmB;AAClB,WAAKG,YAAL;AACD;;;6BAuBQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAE,KAAKF,KAAL,CAAWD,IADnB;AAEE,QAAA,UAAU,EAAE,KAAKP,UAFnB;AAGE,QAAA,MAAM,EAAE,KAAKL,MAHf;AAIE,QAAA,WAAW,EAAE,KAAKc,WAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKD,KAAL,CAAWD,IAAX,GACC,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAGC,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAE,KAAKC,KAAL,CAAWH,IAA3B;AAAiC,QAAA,OAAO,EAAE,KAAKC,KAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CAPF,CADF;AAiBD;;;;EA1Deb,S;;AA6DlB,eAAeM,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { getUser, logout } from \"./services/authService\";\nimport NavBar from \"./components/NavBar\";\nimport AuthForm from \"./components/AuthForm\";\nimport Profile from \"./components/Profile\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n      form: \"signup\"\n    };\n  }\n\n  checkForUser() {\n    const user = getUser();\n    if (user) {\n      this.setState({ user });\n    }\n  }\n  componentDidMount() {\n    this.checkForUser();\n  }\n\n  changeForm = type => {\n    console.log(type);\n    this.setState({\n      form: type\n    });\n  };\n\n  login = () => {\n    const user = getUser();\n    console.log(\"get user\", user)\n    this.setState({ user });\n    console.log('yaay' ,this.state.user)\n  };\n\n  logout = () => {\n    logout();\n    this.setState({ user: null });\n  };\n\n  getProducts = () => {};\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          user={this.state.user}\n          changeForm={this.changeForm}\n          logout={this.logout}\n          getProducts={this.getProducts}\n        />\n        <div className=\"container\">\n          {this.state.user ? (\n            <Profile user={this.state.user} />\n          ) : (\n            <AuthForm form={this.state.form} onLogin={this.login} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}